function initCFF(){cffT=$(".terminal-term.cff #cff").terminal({travel:{connections:function(t,e,i,n){void 0==i&&(i=cffDate()),void 0==n&&(n=cffTime()),$.get("http://transport.opendata.ch/v1/connections?from="+t+"&to="+e+"&date="+i+"&time="+n,function(t){createCFFdata(t)})},help:function(){this.echo("\n"),this.error("connections <from> <to>"),this.echo("display the train informations"),this.echo("\n"),this.echo("\n")}},reset:function(){new TimelineMax({onComplete:function(){$(".informations.cff").remove()}}).to($(".informations.cff"),.2,{height:0,autoAlpha:0}).timeScale(.5)},help:function(){this.echo("\n"),this.error("travel"),this.echo("access the travel"),this.echo("\n"),this.error("reset"),this.echo("clean the cff informations"),this.echo("\n"),this.error("main"),this.echo("goto main terminal"),this.echo("\n"),this.error("sc"),this.echo("goto soundcloud terminal"),this.echo("\n"),this.error("cff"),this.echo("goto cff terminal"),this.echo("\n"),this.echo("\n")},main:function(){showTab("main"),mainT.focus(!0)},sc:function(){0==$(".terminal#sc").length&&(addTab("sc","SC"),initSoundcloud()),showTab("sc"),scT.focus(!0)},cff:function(){0==$(".terminal#cff").length&&(addTab("cff","CFF"),initCFF()),showTab("cff"),cffT.focus(!0)}},{greetings:"Welcome to CFF "+username,name:"cff",height:0,prompt:"CFF > "})}function createCFFdata(t){var e="";e+='<div class="informations cff"><div class="travels"><p class="title">CFF informations</p>',e+='<div class="travel"><div class="sections">',$(t.connections[0].sections).each(function(t,i){""==i.journey.category&&(i.journey.category="&nbsp;"),""==i.departure.platform&&(i.departure.platform="&nbsp;"),""==i.arrival.platform&&(i.arrival.platform="&nbsp;"),e+='<div class="section"><p class="title">Section '+t+'</p><div class="time"><div class="departure-time"><p>'+convertDate(i.departure.departure)+'</p></div><div class="arrival-time"><p>'+convertDate(i.arrival.arrival)+'</p></div></div><div class="journey"><div class="train-journey"><p>'+i.journey.category+'</p></div></div><div class="platform"><p>'+i.departure.platform+"</p><p>"+i.arrival.platform+'</p></div><div class="location"><p>'+i.departure.location.name+"</p><p>"+i.arrival.location.name+"</p></div></div>"}),e+="</div></div>",e+="</div></div></div>",$("#informations-board").prepend(e),e=$(".informations.cff").first(),console.log(e);(new TimelineMax).from($(e),.2,{autoAlpha:0,marginLeft:"-20"}).timeScale(.5)}function convertDate(t){var e=new Date(t),i=e.getHours(),n=e.getMinutes();return 10>i&&(i="0"+i),10>n&&(n="0"+n),i+":"+n}function cffDate(){var t=new Date,e=t.getDate(),i=t.getMonth()+1,n=t.getFullYear();return 10>e&&(e="0"+e),10>i&&(i="0"+i),n+"-"+i+"-"+e}function cffTime(){var t=new Date,e=t.getHours(),i=t.getMinutes();return 10>i&&(i="0"+i),e+":"+i}
